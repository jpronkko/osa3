{"version":3,"sources":["PersonForm.js","PhoneNum.js","Contacts.js","Filter.js","Network.js","Message.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNewNameChange","newNum","handleNewNumChange","onSubmit","value","onChange","type","PhoneNum","name","number","Contacs","persons","handleDelPerson","map","person","key","id","onClick","Filter","filter","handleFilterChange","baseUrl","axios","get","then","response","data","newPerson","post","putUrl","console","log","put","delete","Message","props","useState","visible","setVisible","useEffect","setTimeout","text","isError","style","margin","borderStyle","borderColor","borderWidth","borderRadius","padding","backgroundColor","color","App","setPersons","setFilter","setNewName","setNewNum","message","setMessage","getPhonebook","Network","allPersons","catch","error","showMessage","showError","personWithId","find","event","target","preventDefault","personInList","undefined","window","confirm","updatedPerson","resp","errMsg","x","toLowerCase","includes","filteredPersons","personCopy","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f14133c.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNewNameChange, newNum, handleNewNumChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNewNameChange} />\n            </div>\n            <div>\n                number: <input value={newNum} onChange={handleNewNumChange} /></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","\nimport React from 'react'\n\nconst PhoneNum = ({ name, number}) => {\n    return (\n        <>\n            <p>Contact: {name} tel. {number}</p>\n        </>\n    )\n}\n\nexport default PhoneNum","import React from 'react'\nimport PhoneNum from './PhoneNum'\n\nconst Contacs = ({ persons, handleDelPerson }) => {\n\n    return (\n        <div>\n            { persons && persons.map((person) =>\n                <div key={person.id + 'd'}>\n                    <PhoneNum key={person.id + 'p'}    \n                        name={person.name}\n                        number={person.number} />\n                    <button key={person.id + 'b'} onClick={() => handleDelPerson(person.id)}>del</button>\n              </div>  \n            )}\n\n        </div>\n    )\n}\n\nexport default Contacs","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with <input value={filter} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/persons'\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://immense-eyrie-58054.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAllPersons = () => {\n    const request = axios.get(baseUrl)\n    return request\n        .then(response => response.data)\n}\n\nconst createPerson = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson)\n    return request\n        .then(response => response.data)\n}\n\nconst updatePerson = (person) => {\n    const putUrl = `${baseUrl}/${person.id}`\n    console.log(\"Put URL\", putUrl)\n    const request = axios.put(putUrl, person)\n    return request\n        .then(response => {\n            return response.data\n        })\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n        .then(response => response.data)\n}\n\nexport default { getAllPersons, createPerson, updatePerson, deletePerson }","import React, { useEffect, useState } from 'react'\n\nconst Message = (props) => {\n    const [visible, setVisible] = useState(false)\n\n    const msgStyle = {\n        margin: 10,\n        borderStyle: 'solid',\n        borderColor: 'green',\n        borderWidth: 10,\n        borderRadius: 5,\n        padding: 10,\n        backgroundColor: 'yellow',\n        color: 'green'\n    }\n\n    const errorStyle = {\n        margin: 10,\n        borderStyle: 'solid',\n        borderColor: 'red',\n        borderWidth: 10,\n        borderRadius: 5,\n        padding: 10,\n        backgroundColor: 'yellow',\n        color: 'green'\n    }\n\n    useEffect(() => {\n        setVisible(true)\n        setTimeout(\n            () => {\n                setVisible(false)\n            }, 3000\n        )\n    }, [props.text, props.isError])\n\n    if (visible) {\n        return (\n            <div style={props.isError ? errorStyle : msgStyle}>\n                <p>{props.text}</p>\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Message","import React, { useEffect, useState } from 'react'\nimport PersonForm from './PersonForm'\nimport Contacs from './Contacts'\nimport Filter from './Filter'\nimport Network from './Network'\nimport Message from './Message'\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: 'Tero Testiheppu', number: '007-176761', id: 1 }\n  ])\n  const [filter, setFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [message, setMessage] = useState(null)\n\n  const getPhonebook = () => {\n    Network.getAllPersons().then(allPersons => {\n      console.log(\"Got phonebook!\")\n      setPersons(allPersons)\n    }).catch(error => console.log('No phonebook: ', error.message))\n  }\n\n  useEffect(getPhonebook, [])\n\n  const showMessage = (text) => {\n    setMessage({ text: text, isError: false })\n  }\n\n  const showError = (text) => {\n    setMessage({ text: text, isError: true })\n  }\n\n  const hasName = (name) => persons.find(person => person.name === name)\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    let personInList = hasName(newName)\n    if (personInList !== undefined) {\n      if (window.confirm(`${newName} is already in phonebook, update number?`)) {\n\n        let updatedPerson = { ...personInList, number: newNum }\n\n        Network.updatePerson(updatedPerson)\n          .then((resp) => {\n            //console.log(resp)\n            setPersons(persons.map(person =>\n              person.id === updatedPerson.id ? updatedPerson : person))\n\n            setNewName('')\n            setNewNum('')\n            showMessage(\"Updated contact: \" + updatedPerson.name + \" with new number: \" + newNum)\n            console.log(\"Updated contact:\", updatedPerson.name, newNum)\n          })\n          .catch(error => {\n            const errMsg = error.message\n            console.log(\"Problem in updating person: \", errMsg)\n            showError(`Number ${newNum} too short (should be 8 digits or more), or person no longer found!`)\n            getPhonebook()\n          })\n\n        //showMessage(\"Updated contact: \", updatedPerson)\n        return\n      }\n    }\n\n    let newPerson = { name: newName, number: newNum }\n\n    Network.createPerson(newPerson)\n      .then(() => {\n        getPhonebook()\n        setNewName('')\n        setNewNum('')\n        console.log(\"Added person!\", newPerson.name)\n        showMessage(\"Added person: \" + newPerson.name)\n      })\n      .catch(error => {\n        const errMsg = error.message\n        console.log(\"Problem creating a contact: \", errMsg)\n        showError(\"Check: min phone number length is 8 and name lenght 3!\")\n      })\n  }\n\n  const handleDelPerson = (id) => {\n    console.log('Deleting person with id ', id)\n    if (window.confirm(`Delete ${personWithId(id).name}?`)) {\n      Network.deletePerson(id)\n        .then(() => {\n          let personCopy = persons.filter(x => x.id !== id)\n          setPersons(personCopy)\n          showMessage(`Deleted person ${personWithId(id).name}`)\n        })\n        .catch(error => {\n          const errMsg = error.message\n          console.log(\"Problem in deleting a person: \", errMsg)\n          showError(\"Person no longer found!\")\n          getPhonebook()\n        })\n    }\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNewNameChange = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumChange = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const personWithId = (id) => persons.find(person => person.id === id)\n\n\n  const filteredPersons = (filter, persons) => {\n    //console.log(\"pers\", persons)\n\n    if (persons)\n      return persons.filter(x => x.name.toLowerCase().includes(filter.toLowerCase()))\n    return null\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      {message && <Message text={message.text} isError={message.isError} />}\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new contact</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNewNameChange={handleNewNameChange}\n        newNum={newNum}\n        handleNewNumChange={handleNewNumChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Contacs persons={filteredPersons(filter, persons)} handleDelPerson={handleDelPerson} />\n    </div>\n\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}